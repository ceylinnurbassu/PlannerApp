<?xml version="1.0" encoding="utf-8" ?> 
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PlannerApp.MainPage"
             Title="Daily Planner">

    <ScrollView>
        <VerticalStackLayout Padding="25" Spacing="20"
                             BackgroundColor="{StaticResource BackgroundLight}">

            <!-- 📅 Gün Başlığı -->
            <VerticalStackLayout Spacing="3">
                <Label Text="Today" FontSize="30" FontAttributes="Bold" TextColor="{StaticResource PrimaryDark}" />
                <Label x:Name="DateLabel"
                          FontSize="14"
                          TextColor="{StaticResource Gray500}" />

            </VerticalStackLayout>

            <!-- ➕ Görev Ekleme Alanı -->
            <Frame BackgroundColor="White"
                   CornerRadius="15"
                   HasShadow="True"
                   Padding="15"
                   BorderColor="{StaticResource Gray300}">
                <HorizontalStackLayout Spacing="10">
                    <Entry x:Name="TaskEntry"
                           Placeholder="Add a new task..."
                           BackgroundColor="Transparent"
                           HorizontalOptions="FillAndExpand"
                           FontSize="15"
                           TextColor="{StaticResource Gray900}" />
                    <Button Text="+"
                            Clicked="OnAddTaskClicked"
                            BackgroundColor="{StaticResource Primary}"
                            TextColor="{StaticResource PrimaryDark}"
                            WidthRequest="45"
                            HeightRequest="45"
                            CornerRadius="22"
                            FontSize="20"
                            FontAttributes="Bold" />
                </HorizontalStackLayout>
            </Frame>

            <!-- 🗒️ Görev Listesi -->
            <CollectionView x:Name="TaskList"
                            Margin="0,10,0,0"
                            ItemsLayout="VerticalList">
                <CollectionView.EmptyView>
                    <Label Text="No tasks for today ✨"
                           HorizontalOptions="Center"
                           TextColor="{StaticResource Gray500}"
                           FontSize="14"
                           Margin="0,30,0,0"/>
                </CollectionView.EmptyView>

                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Margin="0,5"
                               Padding="15"
                               CornerRadius="15"
                               BackgroundColor="White"
                               BorderColor="{StaticResource Gray300}">
                            <VerticalStackLayout>
                                <HorizontalStackLayout>
                                    <CheckBox IsChecked="{Binding IsDone}"
                                              Color="{StaticResource PrimaryDark}"
                                              VerticalOptions="Center" />
                                    <Label Text="{Binding DisplayText}"
                                           FontSize="16"
                                           VerticalOptions="Center"
                                           HorizontalOptions="StartAndExpand"
                                           TextDecorations="{Binding TextDecoration}"
                                           TextColor="{StaticResource Gray900}" />
                                    <Button Text="✕"
                                            Clicked="OnDeleteClicked"
                                            CommandParameter="{Binding}"
                                            BackgroundColor="#FFF5F5"
                                            TextColor="#B91C1C"
                                            WidthRequest="35"
                                            HeightRequest="35"
                                            CornerRadius="18"
                                            FontAttributes="Bold" />
                                </HorizontalStackLayout>
                                <Label Text="{Binding Timestamp}"
                                       FontSize="12"
                                       TextColor="{StaticResource Gray500}"
                                       Margin="28,3,0,0"/>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- 🧹 Temizleme Butonu -->
            <Button Text="Clear All"
                    Clicked="OnClearAllClicked"
                    HorizontalOptions="Center"
                    WidthRequest="200"
                    BackgroundColor="{StaticResource PrimaryDark}"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="12"
                    Margin="0,20,0,20"/>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
